{"version":3,"file":"carousel-item.js","sources":["../../src/carousel/carousel-item.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAA,EAAW,UAAA,EAAY,UAAA,EAAY,MAAA,EAAQ,KAAA,EAAc,MAAA,eAAA,CAAA;AAClE,OAAO,EAAa,YAAA,EAAa,MAAA,2BAAA,CAAA;AACjC,OAAO,EAAE,UAAA,EAAW,MAAA,YAAA,CAAA;AACpB,OAAO,EAAE,aAAA,EAAc,MAAA,2BAAA,CAAA;AACvB,OAAO,EAAE,WAAA,EAAY,MAAA,uBAAA,CAAA;;;;;;AACrB;AACE,IAYF;AACA;AACI;AACI;AAEA,OADL;AACH,IAAA,wBADY,IAAM,EACN,SAAW,EACX,EAAI;AAAI,QAFR,SAAA,GAAA,IAAA,CAAM;AAEhB,QADU,cAAA,GAAA,SAAA,CAAW;AACZ,QAAC,OAAA,GAAA,EAAA,CAAI;AAAC,QAfd,UAAK,GAEW,EAAA,CAAA;AACf,QAIF,aAAQ,GAEY,KAAA,CAAA;AAEtB,IAQE,CAAC;AACH,IAAA;AACA;AAEA,OADG;AACH,IAAA,qCAJG,GAIH;AAAc,QACV,IAAM,gBAAgB,CAJhB,QAAA,GAAoB,IAAA,CAAK,IAAC,CAAI,KAAC,KAAS,IAAA,CAAK,KAAC,CAAA;AAI7C,QACP,EAAE,CAAC,CAAC,IAJC,CAAI,QAAC,KAAY,QAAA,CAAS,CAAC,CAAA;AAElB,YAGZ,IAAI,CAJC,QAAC,GAAU,QAAA,CAAA;AACH,QAIf,CAAC;AACL,IAAE,CAAC;AACF,IAAD;AACA;AAEA,OADG;AACH,IAAA,qCANG,GAMH;AAAc,QACV,IAAM,gBAAgB,CANhB,GAAA,GAAW;AAGZ,YAIH,GAAG,EANE,CAAA,GAAI,IAAA,CAAK,KAAC;AAGrB,YAIM,IAAI,EANE,IAAA,CAAK,KAAC;AAEjB,YAKK,GAAG,EANE,IAAA,CAAK,KAAC;AAEjB,YAKM,IAAI,EANE,CAAA,GAAI,IAAA,CAAK,KAAC;AACF,YAMd,GAAG,EANE,CAAA;AAAE,SAOR,CAAA;AACL,QAAI,IAAM,gBAAgB,CANhB,MAAA,GAAiB,IAAA,CAAK,IAAC,CAAI,KAAC,GAAO,IAAA,CAAK,KAAC,CAAA;AAElD,QAKG,IAAM,gBAAgB,CANhB,SAAA,GAAY,GAAA,CAAI,MAAC,CAAM,CAAA;AACvB,QAMN,IAAM,gBAAgB,CANhB,MAAA,GAAiB,2BAAA,SAA0B,SAAS,CAAA;AAElD,QAKR,qCAAqC;AACzC,QAAI,IAAM,gBAAgB,CANhB,eAAA,GAA2B,CAAA,IAAE,CAAI,YAAC,GAAc,CAAA,IAAK,SAAA,GAAY,CAAA,CAAE;AAEnB,eADjD,CAAA,IAAE,CAAI,YAAC,GAAc,CAAA,IAAK,SAAA,GAAY,CAAA,CAAE,CAAA;AACL,QAMxC,IAAI,CANC,WAAC,GAAa,CAAA,eAAE,CAAA;AAAC,QAOtB,IAAI,CANC,MAAC,GAAQ,IAAA,CAAK,SAAC,CAAS,wBAAC,CAAwB,MAAC,CAAM,CAAA;AAClD,QAMX,qBAAqB;AACzB,QAAI,IAAI,CANC,YAAC,GAAc,SAAA,CAAA;AAAC,IAOvB,CAAC;AACF,IAAD;AACA;AAEA,OADG;AACH,IAAA,+BARG,GAQH;AAAc,QACV,IAAI,CARC,YAAC,EAAY,CAAA;AAAC,QASnB,IAAI,CARC,YAAC,EAAY,CAAA;AAAC,IASrB,CAAC;AACF,IAAD;AACA;AAEA,OADG;AACH,IAAA,iCAVG,GAUH;AAAc,QAAd,iBASG;AACH,QATI,gBAAgB;AACpB,QAAI,IAAI,CAVC,IAAC,CAAI,KAAC,CAAK,IAAC,CAAI,IAAC,CAAI,KAAC,CAAK,CAAA;AAEpB,QASZ,IAAI,CAVC,KAAC,GAAO,IAAA,CAAK,EAAC,CAAE,aAAC,CAAa,QAAC,CAAQ,CAAC,CAAC,CAAC,WAAC,CAAA;AAExC,QASR,WAAW,CAVC,IAAC,CAAI,EAAC,CAAE,aAAC,CAAa,CAAA;AACvB,QAWX,kBAAkB;AACtB,QAAI,IAAI,CAVC,IAAC,CAAI,UAAC,CAAU,IAAC,CAAI,cAAM,OAAA,KAAA,CAAK,MAAC,EAAM,EAAZ,CAAY,CAAE,CAAA;AAIzC,QAOL,IAAI,CAVC,MAAC,EAAM,CAAA;AACd,IAUA,CAAC,CASD;IAjBK,JAiBJ,IAWH;AACA;EA7BO,GAAoC,LA+B3C,OADG;OAnBH,EAVE,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,CAAA,sBAWvB,vDAmBF,IAZC,6BAAA,GAAA,cAAA,OAAA;IAPS,EAVE,kBAAA,sBAWV,UAAU,EAVE,CAAA,aAAE,CAAa,sBAW3B,QAAQ,EAVE,zGAeT,QAaH,EAAC,IAAI,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,UAAU,CAAC,cAAM,OAAA,UAAU,EAAV,CAAU,CAAC,EAAG,EAAE,EAAG,EAAC;AAC5F,QAAA,EAAC,IAAI,EAAE,YAAY,GAAG;AACtB,QAAA,EAAC,IAAI,EAAE,UAAU,GAAG;AACpB,KAAC,EAhBA,CAgBA,CAAC;AACF,IAZO,6BAAA,GAAyD;AAOhD,QAMhB,OAAO,EAZE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;AAIlB,QASR,OAAO,EAZE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;AAGb,KAUZ;0MAdE,mBACF,EAVC,EAAG,OAWJ;;;;;;;;;;;;;;;;;;;;;;;;oBAAC;AACF,IAYA,qBAAC;AAED,CA5GA,AA0GC,IAAA;AACD,SAzGC,cAAA;AA0GD;AACA,IAAA,gBAAgB;AAChB,IAAA,cAAc,CAAC,UAAU,CAAC;AAC1B,IAAA;AACA;AACI;AAEA,OADD;AACH,IAAA,cAAc,CAAC,cAAc,CAAC;AAC9B,IAAA,gBAAgB;AAChB,IAAA,cAAc,CAAC,cAAc,CAAC;AAC9B,IAAA,gBAAgB;AAChB,IAAA,cAAc,CAAC,SAAS,CAAC,KAAK,CAAC;AAC/B,IAAA,gBAAgB;AAChB,IAAA,cAAc,CAAC,SAAS,CAAC,KAAK,CAAC;AAC/B,IAAA,gBAAgB;AAChB,IAAA,cAAc,CAAC,SAAS,CAAC,KAAK,CAAC;AAC/B,IAAA,gBAAgB;AAChB,IAAA,cAAc,CAAC,SAAS,CAAC,YAAY,CAAC;AACtC,IAAA,gBAAgB;AAChB,IAAA,cAAc,CAAC,SAAS,CAAC,WAAW,CAAC;AACrC,IAAA,gBAAgB;AAChB,IAAA,cAAc,CAAC,SAAS,CAAC,QAAQ,CAAC;AAClC,IAAA,gBAAgB;AAChB,IAAA,cAAc,CAAC,SAAS,CAAC,MAAM,CAAC;AAChC,IAAA,gBAAgB;AAChB,IAAA,cAAc,CAAC,SAAS,CAAC,IAAI,CAAC;AAC9B,IAAA,gBAAgB;AAChB,IAAA,cAAc,CAAC,SAAS,CAAC,SAAS,CAAC;AACnC,IAAA,gBAAgB;AAChB,IAAA,cAAc,CAAC,SAAS,CAAC,EAAE,CAAC;AAC5B,CAAC;AACD","sourcesContent":["import { Component, ElementRef, forwardRef, Inject, Input, OnInit } from '@angular/core';\nimport { SafeStyle, DomSanitizer } from '@angular/platform-browser';\nimport { ElCarousel } from './carousel';\nimport { fadeAnimation } from '../shared/animation/index';\nimport { removeNgTag } from '../shared/utils/index';\nexport class ElCarouselItem implements OnInit {\n  \n  // parent component will set index\n   index: number\n   label: string = ''\n  \n  // oninit set\n  width: number\n  \n  preTranslate: number\n  isAnimating: boolean\n  isActive: boolean = false\n  styles: SafeStyle\n/**\n * @param {?} root\n * @param {?} sanitizer\n * @param {?} el\n */\nconstructor(\npublic root: ElCarousel,\nprivate sanitizer: DomSanitizer,\nprivate el: ElementRef,\n  ) {\n  }\n/**\n * @return {?}\n */\nupdateActive(): void {\n    const /** @type {?} */ isActive: boolean = this.root.model === this.index\n    if (this.isActive !== isActive) {\n      this.isActive = isActive\n    }\n  }\n/**\n * @return {?}\n */\nupdateStyles(): void {\n    const /** @type {?} */ map: any = {\n      '1': 0 - this.width,\n      '-1': this.width,\n      '2': this.width,\n      '-2': 0 - this.width,\n      '0': 0,\n    }\n    const /** @type {?} */ offset: number = this.root.model - this.index\n    const /** @type {?} */ translate = map[offset]\n    const /** @type {?} */ styles: string = `transform: translateX(${translate}px);`\n    // change direction disable animation\n    const /** @type {?} */ changeDirection: boolean = (this.preTranslate < 0 && translate > 0)\n      || (this.preTranslate > 0 && translate < 0)\n    this.isAnimating = !changeDirection\n    this.styles = this.sanitizer.bypassSecurityTrustStyle(styles)\n    // save current value\n    this.preTranslate = translate\n  }\n/**\n * @return {?}\n */\nupdate(): void {\n    this.updateStyles()\n    this.updateActive()\n  }\n/**\n * @return {?}\n */\nngOnInit(): void {\n    // collect items\n    this.root.items.push(this.label)\n    this.width = this.el.nativeElement.children[0].offsetWidth\n    removeNgTag(this.el.nativeElement)\n    \n    // manually update\n    this.root.subscriber.push(() => this.update())\n    this.update()\n  }\n  \nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'el-carousel-item',\n  animations: [fadeAnimation],\n  template: `\n    <div class=\"el-carousel__item\"\n      [class.is-active]=\"isActive\"\n      [class.el-carousel__item--card]=\"root.type === 'card'\"\n      [class.is-animating]=\"isAnimating\"\n      [style]=\"styles\">\n      <!--<div class=\"el-carousel__mask\" *ngIf=\"root.type === 'card'\"-->\n        <!--[@fadeAnimation]=\"isActive()\">-->\n      <!--</div>-->\n      <ng-content></ng-content>\n    </div>\n  `,\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElCarousel, decorators: [{ type: Inject, args: [forwardRef(() => ElCarousel), ] }, ]},\n{type: DomSanitizer, },\n{type: ElementRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'index': [{ type: Input },],\n'label': [{ type: Input },],\n};\n}\n\nfunction ElCarouselItem_tsickle_Closure_declarations() {\n/** @type {?} */\nElCarouselItem.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nElCarouselItem.ctorParameters;\n/** @type {?} */\nElCarouselItem.propDecorators;\n/** @type {?} */\nElCarouselItem.prototype.index;\n/** @type {?} */\nElCarouselItem.prototype.label;\n/** @type {?} */\nElCarouselItem.prototype.width;\n/** @type {?} */\nElCarouselItem.prototype.preTranslate;\n/** @type {?} */\nElCarouselItem.prototype.isAnimating;\n/** @type {?} */\nElCarouselItem.prototype.isActive;\n/** @type {?} */\nElCarouselItem.prototype.styles;\n/** @type {?} */\nElCarouselItem.prototype.root;\n/** @type {?} */\nElCarouselItem.prototype.sanitizer;\n/** @type {?} */\nElCarouselItem.prototype.el;\n}\n\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}