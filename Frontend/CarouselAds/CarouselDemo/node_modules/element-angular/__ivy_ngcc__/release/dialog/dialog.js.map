{"version":3,"file":"dialog.js","sources":["../../src/dialog/dialog.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  Component, ContentChild, Input, OnChanges, OnDestroy,\n  OnInit, Renderer2, SimpleChanges, TemplateRef,\n} from '@angular/core';\nimport { SafeStyle, DomSanitizer } from '@angular/platform-browser';\nimport { DocumentWrapper, WindowWrapper } from '../shared/services/index';\nimport { ElDialogProps } from './dialog.props';\nimport { dialogFadeAnimation } from '../shared/animation/index';\nexport class ElDialog extends ElDialogProps implements OnInit, OnChanges, OnDestroy {\n  \n   titleTmp: TemplateRef<any>\n   footerTmp: TemplateRef<any>\n   model: string | number\n  \n  cacheOverflow: string\n  cacheModalElement: Element\n  globalListenFunc: Function\n/**\n * @param {?} sanitizer\n * @param {?} renderer\n * @param {?} window\n * @param {?} document\n */\nconstructor(\nprivate sanitizer: DomSanitizer,\nprivate renderer: Renderer2,\nprivate window: WindowWrapper,\nprivate document: DocumentWrapper,\n  ) {\n    super()\n  }\n/**\n * @return {?}\n */\nmakeDialogStyles(): SafeStyle {\n    const /** @type {?} */ width: string = this.width ? `width: ${this.width};` : ''\n    const /** @type {?} */ styles: string = `top: ${this.top};${width}`\n    return this.sanitizer.bypassSecurityTrustStyle(styles)\n  }\n/**\n * @return {?}\n */\ncloseHandler(): void {\n    this.beforeClose(() => {\n      this.visible = false\n      this.visibleChange.emit(this.visible)\n      this.updateWithVisibleChange()\n    })\n  }\n/**\n * @return {?}\n */\nwrapperClickHandle(): void {\n    // close dialog\n    if (this.closeOnClickModal) {\n      this.closeHandler()\n    }\n  }\n/**\n * @return {?}\n */\nupdateWithVisibleChange(): void {\n    // update modal\n    if (this.cacheModalElement) {\n      // this.cacheModalElement.innerHTML = this.makeModalTmp(this.visible)\n      this.renderer.setStyle(this.cacheModalElement, 'display', this.visible ? 'block' : 'none')\n    }\n    // lock body scroll\n    if (this.lockScroll) {\n      const /** @type {?} */ nextValue = this.visible ? 'hidden' : this.cacheOverflow\n      this.renderer.setStyle(this.document.body, 'overflow', nextValue)\n    }\n  }\n/**\n * @return {?}\n */\nngOnInit(): void {\n    // save old overflow\n    if (this.lockScroll) {\n      this.cacheOverflow = this.window.getComputedStyle(this.document.body).overflow\n    }\n    this.cacheModalElement = this.renderer.createElement('div')\n    this.renderer.setAttribute(this.cacheModalElement, 'class', 'v-modal')\n    this.renderer.setStyle(this.cacheModalElement, 'z-index', this.modalZindex)\n    this.renderer.setStyle(this.cacheModalElement, 'display', this.visible ? 'block' : 'none')\n    this.document.body.appendChild(this.cacheModalElement)\n    // listen esc\n    if (this.closeOnPressEscape) {\n      this.globalListenFunc = this.renderer.listen(\n      'document', 'keydown', (event: KeyboardEvent) => {\n        this.visible && event.keyCode === 27 && this.closeHandler()\n      })\n    }\n  }\n/**\n * @param {?} changes\n * @return {?}\n */\nngOnChanges(changes: SimpleChanges): void {\n    // not include model\n    if (!changes || !changes.visible) return\n    this.visible = changes.visible.currentValue\n    this.updateWithVisibleChange()\n  }\n/**\n * @return {?}\n */\nngOnDestroy(): void {\n    this.globalListenFunc && this.globalListenFunc()\n    this.cacheModalElement.parentElement.removeChild(this.cacheModalElement)\n    this.renderer.setStyle(this.document.body, 'overflow', this.cacheOverflow)\n  }\n  \nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'el-dialog',\n  animations: [dialogFadeAnimation],\n  template: `\n    <div class=\"el-dialog__wrapper\" [@dialogFadeAnimation]=\"visible\"\n      [ngStyle]=\"{ 'z-index': dialogZindex }\"\n      (click)=\"wrapperClickHandle()\">\n      <div [class]=\"'el-dialog ' + customClass\"\n        [class.el-dialog--center]=\"center\"\n        [style]=\"makeDialogStyles()\"\n        (click)=\"$event.stopPropagation()\">\n        <div class=\"el-dialog__header\">\n          <ng-container *ngIf=\"titleTmp\">\n            <ng-template [ngTemplateOutlet]=\"titleTmp\"></ng-template>\n          </ng-container>\n          <span class=\"el-dialog__title\" *ngIf=\"!titleTmp\">{{title}}</span>\n          <button type=\"button\" class=\"el-dialog__headerbtn\"\n            aria-label=\"Close\"\n            *ngIf=\"showClose\"\n            (click)=\"closeHandler()\">\n            <i class=\"el-dialog__close el-icon el-icon-close\"></i>\n          </button>\n        </div>\n        <div class=\"el-dialog__body\">\n          <ng-content></ng-content>\n        </div>\n        <div class=\"el-dialog__footer\">\n          <ng-container *ngIf=\"footerTmp\">\n            <ng-template [ngTemplateOutlet]=\"footerTmp\"></ng-template>\n          </ng-container>\n        </div>\n      </div>\n    </div>\n  `,\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: DomSanitizer, },\n{type: Renderer2, },\n{type: WindowWrapper, },\n{type: DocumentWrapper, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'titleTmp': [{ type: ContentChild, args: ['title', ] },],\n'footerTmp': [{ type: ContentChild, args: ['footer', ] },],\n'model': [{ type: Input },],\n};\n}\n\nfunction ElDialog_tsickle_Closure_declarations() {\n/** @type {?} */\nElDialog.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nElDialog.ctorParameters;\n/** @type {?} */\nElDialog.propDecorators;\n/** @type {?} */\nElDialog.prototype.titleTmp;\n/** @type {?} */\nElDialog.prototype.footerTmp;\n/** @type {?} */\nElDialog.prototype.model;\n/** @type {?} */\nElDialog.prototype.cacheOverflow;\n/** @type {?} */\nElDialog.prototype.cacheModalElement;\n/** @type {?} */\nElDialog.prototype.globalListenFunc;\n/** @type {?} */\nElDialog.prototype.sanitizer;\n/** @type {?} */\nElDialog.prototype.renderer;\n/** @type {?} */\nElDialog.prototype.window;\n/** @type {?} */\nElDialog.prototype.document;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}