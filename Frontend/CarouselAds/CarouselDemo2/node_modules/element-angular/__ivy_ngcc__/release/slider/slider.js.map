{"version":3,"file":"slider.js","sources":["../../src/slider/slider.ts"],"names":[],"mappings":"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","sourcesContent":["import { AfterViewInit, Component, ElementRef, forwardRef, OnInit, ViewChild } from '@angular/core';\nimport { SafeStyle, DomSanitizer } from '@angular/platform-browser';\nimport { ElSliderProps } from './slider.props';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nexport class ElSlider extends ElSliderProps implements OnInit, AfterViewInit, ControlValueAccessor {\n  \n   runwayElement: ElementRef\n  size: number\n  \n  start: number = 0\n  isDragging: boolean = false\n/**\n * @param {?} sanitizer\n */\nconstructor(\nprivate sanitizer: DomSanitizer,\n  ) {\n    super()\n  }\n/**\n * @return {?}\n */\nmakeRunwayStyle(): SafeStyle {\n    const /** @type {?} */ styles = this.vertical ? `height: ${this.height}px;` : ''\n    return this.sanitizer.bypassSecurityTrustStyle(styles)\n  }\n/**\n * @return {?}\n */\nmakeBarStyle(): SafeStyle {\n    const /** @type {?} */ val: number = (this.model - this.min) * 100 / (this.max - this.min)\n    const /** @type {?} */ styles = this.vertical ? `height: ${val}%; bottom: ${this.start}%;`\n      : `width: ${val}%; left: ${this.start}%;`\n    return this.sanitizer.bypassSecurityTrustStyle(styles)\n  }\n/**\n * @return {?}\n */\nresetSize(): void {\n    if (!this.runwayElement) return\n    this.size = this.runwayElement.nativeElement[`client${ this.vertical ? 'Height' : 'Width' }`]\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nonSliderClick(event: MouseEvent): void {\n    if (this.elDisabled || this.isDragging) return\n    this.resetSize()\n    const /** @type {?} */ val: number = this.vertical ? event.clientY : event.clientX\n    const { left, bottom } = this.runwayElement.nativeElement.getBoundingClientRect()\n    const /** @type {?} */ offset: number = Math.abs(val - (this.vertical ? bottom : left))\n    // update value\n    this.model = Math.round((offset / this.size) * (this.max - this.min)) + this.min\n    this.moveChange(this.model)\n    this.makeBarStyle()\n  }\n/**\n * @param {?} nextValue\n * @return {?}\n */\nmoveChange(nextValue: number): void {\n    this.model = nextValue\n    this.modelChange.emit(nextValue)\n    this.controlChange(nextValue)\n  }\n/**\n * @return {?}\n */\nngOnInit(): void {\n    if (!this.model) {\n      this.model = this.min\n    }\n  }\n/**\n * @return {?}\n */\nngAfterViewInit(): void {\n    this.resetSize()\n  }\n/**\n * @param {?} value\n * @return {?}\n */\nwriteValue(value: any): void {\n    this.model = value\n  }\n/**\n * @param {?} fn\n * @return {?}\n */\nregisterOnChange(fn: Function): void {\n    this.controlChange = fn\n  }\n/**\n * @param {?} fn\n * @return {?}\n */\nregisterOnTouched(fn: Function): void {\n    this.controlTouch = fn\n  }\nprivate controlChange: Function = () => {}\nprivate controlTouch: Function = () => {}\n  \nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'el-slider',\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => ElSlider),\n    multi: true\n  }],\n  template: `\n    <div class=\"el-slider\" [class.is-vertical]=\"vertical\">\n      <div class=\"el-slider__runway\" [class.disabled]=\"elDisabled\"\n        [style]=\"makeRunwayStyle()\" (click)=\"onSliderClick($event)\" #runway>\n        <div class=\"el-slider__bar\" [style]=\"makeBarStyle()\"></div>\n        <el-slider-button [vertical]=\"vertical\"\n          [model]=\"model\"\n          (modelChange)=\"moveChange($event)\"\n          [min]=\"min\" [max]=\"max\"\n          [format-tooltip]=\"formatTooltip\"\n          [elDisabled]=\"!showTooltip\">\n        </el-slider-button>\n      </div>\n    </div>\n  `,\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: DomSanitizer, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'runwayElement': [{ type: ViewChild, args: ['runway', ] },],\n};\n}\n\nfunction ElSlider_tsickle_Closure_declarations() {\n/** @type {?} */\nElSlider.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nElSlider.ctorParameters;\n/** @type {?} */\nElSlider.propDecorators;\n/** @type {?} */\nElSlider.prototype.runwayElement;\n/** @type {?} */\nElSlider.prototype.size;\n/** @type {?} */\nElSlider.prototype.start;\n/** @type {?} */\nElSlider.prototype.isDragging;\n/** @type {?} */\nElSlider.prototype.controlChange;\n/** @type {?} */\nElSlider.prototype.controlTouch;\n/** @type {?} */\nElSlider.prototype.sanitizer;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}