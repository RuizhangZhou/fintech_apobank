{"version":3,"file":"dropdown.js","sources":["../../src/dropdown/dropdown.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  AfterViewInit, Component, ElementRef, HostListener, OnDestroy, Renderer2,\n  ViewChild,\n} from '@angular/core';\nimport { SafeStyle, DomSanitizer } from '@angular/platform-browser';\nimport { Value } from './dropdown.item';\nimport { ElDropdownProps } from './dropdown.props';\nimport { dropAnimation } from './animation';\nimport { DocumentWrapper } from '../shared/services/index';\nexport class ElDropdown extends ElDropdownProps implements OnDestroy, AfterViewInit {\n  \n   list: any\n  \n  showMenu: boolean = false\n  timer: any\n  slideToBottom: boolean = true\n  listHeight: number\n  globalListenFunc: Function\n  globalScrollFunc: Function\n  \n   mouseleave = () => {\n    if (this.trigger !== 'hover') return\n    this.timer = setTimeout(() => {\n      this.closeMenu()\n      clearTimeout(this.timer)\n    }, 400)\n  }\n  \n   mouseenter = () => {\n    if (this.trigger !== 'hover') return\n    this.timer && clearTimeout(this.timer)\n    !this.showMenu && this.visibleChange.emit()\n    this.showMenu = true\n  }\n/**\n * @param {?} renderer\n * @param {?} sanitizer\n * @param {?} document\n * @param {?} el\n */\nconstructor(\nprivate renderer: Renderer2,\nprivate sanitizer: DomSanitizer,\nprivate document: DocumentWrapper,\nprivate el: ElementRef,\n  ) {\n    super()\n  }\n/**\n * @param {?=} event\n * @return {?}\n */\nopenMenu(event?: Event): void {\n    event && event.stopPropagation()\n    this.showMenu = !this.showMenu\n    this.visibleChange.emit()\n    this.globalListenFunc = this.renderer.listen(\n      'document', 'click', () => {\n        this.closeMenu()\n      }\n    )\n  }\n/**\n * @return {?}\n */\ncloseMenu(): void {\n    this.showMenu = false\n    this.visibleChange.emit()\n    this.globalListenFunc && this.globalListenFunc()\n  }\n/**\n * @param {?} model\n * @return {?}\n */\nselectHandle(model: Value): void {\n    this.selected.emit(model)\n    \n    // select and hide menu (props)\n    this.hideOnClick && this.closeMenu()\n  }\n/**\n * @return {?}\n */\nmakeListStyles(): SafeStyle {\n    const /** @type {?} */ styles = `top: ${this.slideToBottom ? '100%' : (0 - this.listHeight) + 'px' };` +\n      `${this.menuAlign === 'end' ? 'right' : 'left'}: 0; position: absolute; min-width: 100px;` +\n      `white-space: ${this.menuNoWrap ? 'nowrap' : 'normal'}`\n    return this.sanitizer.bypassSecurityTrustStyle(styles)\n  }\n/**\n * @return {?}\n */\nngAfterViewInit(): void {\n    this.listHeight = this.list.nativeElement.offsetHeight + 12\n    this.globalScrollFunc = this.renderer.listen(\n    'window', 'scroll', () => {\n      const /** @type {?} */ top = this.el.nativeElement.getBoundingClientRect().top\n      const /** @type {?} */ nextValue = this.document.documentElement.clientHeight - top > this.listHeight\n      if (nextValue !== this.slideToBottom) {\n        this.slideToBottom = nextValue\n      }\n    })\n  }\n/**\n * @return {?}\n */\nngOnDestroy(): void {\n    this.globalListenFunc && this.globalListenFunc()\n    this.globalScrollFunc && this.globalScrollFunc()\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'el-dropdown',\n  template: `\n    <ng-template #content>\n      <ng-content></ng-content>\n    </ng-template>\n    <div class=\"el-dropdown\">\n      <ng-container *ngIf=\"splitButton\">\n        <el-button [type]=\"type\" [size]=\"size\" (click)=\"openMenu($event)\">\n          <span>\n            <ng-template [ngTemplateOutlet]=\"content\"></ng-template>\n            <i class=\"el-icon-caret-bottom el-icon--right\"></i>\n          </span>\n        </el-button>\n      </ng-container>\n      <ng-container *ngIf=\"!splitButton\">\n        <span class=\"el-dropdown-link\" (click)=\"openMenu($event)\" style=\"cursor: pointer;\">\n          <ng-template [ngTemplateOutlet]=\"content\"></ng-template>\n          <i class=\"el-icon-caret-bottom el-icon--right\"></i>\n        </span>\n      </ng-container>\n      <div [style]=\"makeListStyles()\">\n        <ul class=\"el-dropdown-menu\" #list [@dropAnimation]=\"showMenu\">\n          <el-dropdown-item *ngFor=\"let item of model\" [model]=\"item\" (selected)=\"selectHandle(item)\">\n          </el-dropdown-item>\n        </ul>\n      </div>\n    </div>\n  `,\n  animations: [dropAnimation],\n  styles: ['.el-dropdown-menu { overflow: hidden; }'],\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Renderer2, },\n{type: DomSanitizer, },\n{type: DocumentWrapper, },\n{type: ElementRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'list': [{ type: ViewChild, args: ['list', ] },],\n'mouseleave': [{ type: HostListener, args: ['mouseleave', ] },],\n'mouseenter': [{ type: HostListener, args: ['mouseenter', ] },],\n};\n}\n\nfunction ElDropdown_tsickle_Closure_declarations() {\n/** @type {?} */\nElDropdown.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nElDropdown.ctorParameters;\n/** @type {?} */\nElDropdown.propDecorators;\n/** @type {?} */\nElDropdown.prototype.list;\n/** @type {?} */\nElDropdown.prototype.showMenu;\n/** @type {?} */\nElDropdown.prototype.timer;\n/** @type {?} */\nElDropdown.prototype.slideToBottom;\n/** @type {?} */\nElDropdown.prototype.listHeight;\n/** @type {?} */\nElDropdown.prototype.globalListenFunc;\n/** @type {?} */\nElDropdown.prototype.globalScrollFunc;\n/** @type {?} */\nElDropdown.prototype.mouseleave;\n/** @type {?} */\nElDropdown.prototype.mouseenter;\n/** @type {?} */\nElDropdown.prototype.renderer;\n/** @type {?} */\nElDropdown.prototype.sanitizer;\n/** @type {?} */\nElDropdown.prototype.document;\n/** @type {?} */\nElDropdown.prototype.el;\n}\n\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}