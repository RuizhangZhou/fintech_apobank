{"version":3,"file":"loading.directive.js","sources":["../../src/loading/loading.directive.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  Input, Directive, OnInit, ElementRef, Renderer2,\n} from '@angular/core';\nimport { DocumentWrapper, WindowWrapper } from '../shared/services/index';\nexport class ElLoadingDirective implements OnInit {\n  \n   text: string\n   lock: boolean = false        // ban scroll on loading active\n   customClass: string\n   fullScreen: boolean = false\n   elLoadingTop: string = '50%'\n/**\n * @param {?} val\n * @return {?}\n */\nset showLoading(val: boolean) {\n    this.visible = val\n    if (!this.cacheElement) return\n    this.cacheElement.innerHTML = this.makeHtml()\n  }\n  \n  cacheElement: HTMLElement\n  cacheOverflow: string\nprivate visible: boolean = false\n/**\n * @param {?} el\n * @param {?} renderer\n * @param {?} document\n * @param {?} window\n */\nconstructor(\nprivate el: ElementRef,\nprivate renderer: Renderer2,\nprivate document: DocumentWrapper,\nprivate window: WindowWrapper,\n  ) {\n  }\n/**\n * @param {?=} status\n * @return {?}\n */\ntoggleLock(status: boolean = false): void {\n    if (!this.lock) return\n    const /** @type {?} */ nextValue = status ? 'hidden' : this.cacheOverflow\n    this.renderer.setStyle(this.document.body, 'overflow', nextValue)\n  }\n/**\n * @return {?}\n */\nmakeHtml(): string {\n    this.lock && this.toggleLock(this.visible)\n    return `\n      <div class=\"el-loading-mask ${this.customClass} ${this.fullScreen ? ' is-fullscreen' : ''}\"\n        style=\"display: ${this.visible ? 'block': 'none'}\">\n        <div class=\"el-loading-spinner\" style=\"top: ${this.elLoadingTop}\">\n          <svg class=\"circular\" viewBox=\"25 25 50 50\">\n            <circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\"/>\n          </svg>\n          <p class=\"el-loading-text\" style=\"display: ${this.text ? 'block': 'none'}\">\n            ${this.text}\n          </p>\n        </div>\n      </div>\n    `\n  }\n/**\n * @return {?}\n */\nngOnInit(): void {\n    // save old overflow\n    if (this.lock) {\n      this.cacheOverflow = this.window.getComputedStyle(this.document.body).overflow\n    }\n    \n    this.cacheElement = this.renderer.createElement('div')\n    this.cacheElement.innerHTML = this.makeHtml()\n    const /** @type {?} */ parentElement = this.fullScreen ? this.document.body : this.el.nativeElement\n    if (!this.fullScreen) {\n      this.renderer.setStyle(this.el.nativeElement, 'position', 'relative')\n    }\n    this.renderer.appendChild(parentElement, this.cacheElement)\n  }\n  \nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: '[el-loading]',\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: Renderer2, },\n{type: DocumentWrapper, },\n{type: WindowWrapper, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'text': [{ type: Input },],\n'lock': [{ type: Input },],\n'customClass': [{ type: Input, args: ['custom-class', ] },],\n'fullScreen': [{ type: Input, args: ['full-screen', ] },],\n'elLoadingTop': [{ type: Input, args: ['el-loading-top', ] },],\n'showLoading': [{ type: Input, args: ['el-loading', ] },],\n};\n}\n\nfunction ElLoadingDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nElLoadingDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nElLoadingDirective.ctorParameters;\n/** @type {?} */\nElLoadingDirective.propDecorators;\n/** @type {?} */\nElLoadingDirective.prototype.text;\n/** @type {?} */\nElLoadingDirective.prototype.lock;\n/** @type {?} */\nElLoadingDirective.prototype.customClass;\n/** @type {?} */\nElLoadingDirective.prototype.fullScreen;\n/** @type {?} */\nElLoadingDirective.prototype.elLoadingTop;\n/** @type {?} */\nElLoadingDirective.prototype.cacheElement;\n/** @type {?} */\nElLoadingDirective.prototype.cacheOverflow;\n/** @type {?} */\nElLoadingDirective.prototype.visible;\n/** @type {?} */\nElLoadingDirective.prototype.el;\n/** @type {?} */\nElLoadingDirective.prototype.renderer;\n/** @type {?} */\nElLoadingDirective.prototype.document;\n/** @type {?} */\nElLoadingDirective.prototype.window;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}