{"version":3,"file":"tooltip.js","sources":["../../src/tooltip/tooltip.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  AfterContentInit, Component, ContentChild, ElementRef, Input,\n  Renderer2, TemplateRef, ViewChild,\n} from '@angular/core';\nimport { fadeAnimation } from '../shared/animation/index';\nimport { WindowWrapper } from '../shared/services/index';\nimport { getRealShape, getPositionForDir } from '../shared/utils/index';\n\nexport type Shape = { width: number, height: number }\nexport class ElTooltip implements AfterContentInit {\n/**\n * @param {?} val\n * @return {?}\n */\nset disabled(val: boolean) {   // todo, is discarded.\n    console.warn('Element Angular: (disabled) is discarded, use [elDisabled] replace it.')\n  }\n   elDisabled: boolean = false\n   watch: boolean = false\n   placement: string = 'bottom'\n   popperClass: string\n   effect: string = 'dark'\n   visibleArrow: boolean = true\n   popperContent: ElementRef\n   tip: TemplateRef<any>\n  \n  xPlacement: string = 'bottom'\n  showPopper: boolean = true\n  cache: any = {}\n  tipElementShape: Shape\n/**\n * @param {?} renderer\n * @param {?} el\n * @param {?} window\n */\nconstructor(\nprivate renderer: Renderer2,\nprivate el: ElementRef,\nprivate window: WindowWrapper,\n  ) {\n  }\n/**\n * @param {?} hostRect\n * @param {?} selfRect\n * @return {?}\n */\ngetPosition(hostRect: any, selfRect: any): void {\n    const /** @type {?} */ doubleConventions: boolean = this.placement.includes('-')\n    const /** @type {?} */ arrowDir: string = doubleConventions ? this.placement.split('-')[1] : 'center'\n    const /** @type {?} */ dir: string = doubleConventions ? this.placement.split('-')[0] : this.placement\n    const /** @type {?} */ position: any = getPositionForDir(hostRect, selfRect, dir, arrowDir)\n    this.cache.position = position\n    this.cache.hostRect = hostRect\n  }\n/**\n * @return {?}\n */\nsetPopoerPositionAndShow(): void {\n    const { tipElement, position } = this.cache\n    const /** @type {?} */ arrowElement: Element = tipElement.querySelector('.popper__arrow')\n    this.xPlacement = position.arrowFace\n    this.renderer.setStyle(tipElement, 'left', `${position.left}px`)\n    this.renderer.setStyle(tipElement, 'top', `${position.top}px`)\n    \n    // fix tipbox auto wrap\n    this.renderer.setStyle(tipElement, 'width', `${this.tipElementShape.width}px`)\n    this.renderer.setStyle(tipElement, 'height', `${this.tipElementShape.height}px`)\n    this.renderer.setStyle(arrowElement, position.arrowDir, `${position.arrowPosition}px`)\n  }\n/**\n * @param {?} host\n * @return {?}\n */\nbindEvent(host: HTMLElement): void {\n    host.addEventListener('mouseenter', () => {\n      if (this.elDisabled) return\n      this.setPopoerPositionAndShow()\n      this.showPopper = true\n    })\n    host.addEventListener('mouseleave', () => {\n      this.showPopper = false\n      this.watch && this.update()\n    })\n  }\n/**\n * @return {?}\n */\nupdate(): void {\n    const { tipElement, hostRect } = this.cache\n    this.renderer.setStyle(tipElement, 'width', 'auto')\n    this.renderer.setStyle(tipElement, 'height', 'auto')\n    setTimeout(() => {\n      this.tipElementShape = getRealShape(tipElement)\n      const /** @type {?} */ tipRect = { width: tipElement.offsetWidth, height: tipElement.offsetHeight }\n      this.getPosition(hostRect, tipRect)\n      this.renderer.setStyle(tipElement, 'width', `${this.tipElementShape.width}px`)\n      this.renderer.setStyle(tipElement, 'height', `${this.tipElementShape.height}px`)\n    }, 0)\n  }\n/**\n * @return {?}\n */\nngAfterContentInit(): void {\n    const /** @type {?} */ tipElement: HTMLElement = this.popperContent.nativeElement\n    const /** @type {?} */ hostElement: HTMLElement = this.el.nativeElement.children[0]\n    this.bindEvent(hostElement)\n    this.cache.tipElement = tipElement\n  \n    const /** @type {?} */ timer = setTimeout(() => {\n      this.tipElementShape = getRealShape(tipElement)\n      const /** @type {?} */ tipRect = { width: tipElement.offsetWidth, height: tipElement.offsetHeight }\n      const /** @type {?} */ hostRect = hostElement.getBoundingClientRect()\n      this.getPosition(hostRect, tipRect)\n      clearTimeout(timer)\n    }, 0)\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'el-tooltip',\n  template: `\n    <div style=\"position: relative; display: inline-block;\">\n      <div [class]=\"'el-tooltip__popper is-' + effect + ' ' + popperClass\"\n        style=\"left: -20000px; top: 0; position: absolute;\"\n        [@fadeAnimation]=\"!showPopper\" [attr.x-placement]=\"xPlacement\" #popperContent>\n        <div x-arrow class=\"popper__arrow\" [hidden]=\"!visibleArrow\"></div>\n        <ng-template [ngTemplateOutlet]=\"tip\"></ng-template>\n      </div>\n      <ng-content></ng-content>\n    </div>\n  `,\n  animations: [fadeAnimation],\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Renderer2, },\n{type: ElementRef, },\n{type: WindowWrapper, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'disabled': [{ type: Input },],\n'elDisabled': [{ type: Input },],\n'watch': [{ type: Input },],\n'placement': [{ type: Input },],\n'popperClass': [{ type: Input },],\n'effect': [{ type: Input },],\n'visibleArrow': [{ type: Input, args: ['visible-arrow', ] },],\n'popperContent': [{ type: ViewChild, args: ['popperContent', ] },],\n'tip': [{ type: ContentChild, args: ['tip', ] },],\n};\n}\n\nfunction ElTooltip_tsickle_Closure_declarations() {\n/** @type {?} */\nElTooltip.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nElTooltip.ctorParameters;\n/** @type {?} */\nElTooltip.propDecorators;\n/** @type {?} */\nElTooltip.prototype.elDisabled;\n/** @type {?} */\nElTooltip.prototype.watch;\n/** @type {?} */\nElTooltip.prototype.placement;\n/** @type {?} */\nElTooltip.prototype.popperClass;\n/** @type {?} */\nElTooltip.prototype.effect;\n/** @type {?} */\nElTooltip.prototype.visibleArrow;\n/** @type {?} */\nElTooltip.prototype.popperContent;\n/** @type {?} */\nElTooltip.prototype.tip;\n/** @type {?} */\nElTooltip.prototype.xPlacement;\n/** @type {?} */\nElTooltip.prototype.showPopper;\n/** @type {?} */\nElTooltip.prototype.cache;\n/** @type {?} */\nElTooltip.prototype.tipElementShape;\n/** @type {?} */\nElTooltip.prototype.renderer;\n/** @type {?} */\nElTooltip.prototype.el;\n/** @type {?} */\nElTooltip.prototype.window;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}