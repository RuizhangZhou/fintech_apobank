{"version":3,"file":"dynamic.service.js","sources":["../../../src/shared/services/dynamic.service.ts"],"names":[],"mappings":"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","sourcesContent":["\nimport {\n  Injectable, ComponentRef, ComponentFactoryResolver, Injector, ApplicationRef,\n} from '@angular/core';\nexport class DocumentWrapper extends Document {\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction DocumentWrapper_tsickle_Closure_declarations() {\n/** @type {?} */\nDocumentWrapper.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDocumentWrapper.ctorParameters;\n}\n\nexport class WindowWrapper extends Window {\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction WindowWrapper_tsickle_Closure_declarations() {\n/** @type {?} */\nWindowWrapper.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nWindowWrapper.ctorParameters;\n}\n\nexport class ExDynamicService {\n/**\n * @param {?} document\n * @param {?} factory\n * @param {?} injector\n * @param {?} appRef\n */\nconstructor(\nprivate document: DocumentWrapper,\nprivate factory: ComponentFactoryResolver,\nprivate injector: Injector,\nprivate appRef: ApplicationRef,\n  ) {\n  }\n/**\n * @param {?} Container\n * @return {?}\n */\ngenerator(Container: any): ComponentRef<any> {\n    const /** @type {?} */ id = this.makeID()\n    const /** @type {?} */ component: ComponentRef<any> = this.factory\n      .resolveComponentFactory(Container)\n      .create(this.injector)\n    this.appRef.attachView(component.hostView)\n  \n    const /** @type {?} */ hostElement: HTMLElement = this.document.createElement('div')\n    hostElement.setAttribute('id', id)\n    component.instance.id = id\n    hostElement.appendChild(( /** @type {?} */((<any>component.hostView))).rootNodes[0])\n    this.document.body.appendChild(hostElement)\n    \n    return component\n  }\n/**\n * @param {?} com\n * @return {?}\n */\ndestroy(com: ComponentRef<any>): void {\n    const /** @type {?} */ timer = setTimeout(() => {\n      this.destroyWait(com)\n      clearTimeout(timer)\n    }, 500)\n  }\n/**\n * @param {?} com\n * @return {?}\n */\ndestroyWait(com: ComponentRef<any>): void {\n    const /** @type {?} */ id = com.instance.id\n    this.appRef.detachView(com.hostView)\n    com.destroy()\n    try {\n      const /** @type {?} */ hostElement = this.document.getElementById(id)\n      hostElement && hostElement.parentElement.removeChild(hostElement)\n    } catch ( /** @type {?} */err) {}\n  }\n/**\n * @return {?}\n */\nmakeID(): string {\n    return Math.random().toString(16).substr(2, 8)\n  }\n  \nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: DocumentWrapper, },\n{type: ComponentFactoryResolver, },\n{type: Injector, },\n{type: ApplicationRef, },\n];\n}\n\nfunction ExDynamicService_tsickle_Closure_declarations() {\n/** @type {?} */\nExDynamicService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nExDynamicService.ctorParameters;\n/** @type {?} */\nExDynamicService.prototype.document;\n/** @type {?} */\nExDynamicService.prototype.factory;\n/** @type {?} */\nExDynamicService.prototype.injector;\n/** @type {?} */\nExDynamicService.prototype.appRef;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}