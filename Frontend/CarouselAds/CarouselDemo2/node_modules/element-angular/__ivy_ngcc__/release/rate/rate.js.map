{"version":3,"file":"rate.js","sources":["../../src/rate/rate.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, ElementRef, OnInit, ViewChild, Renderer2, forwardRef } from '@angular/core';\nimport { ElRateProps } from './rate.props';\nimport { SafeStyle, DomSanitizer } from '@angular/platform-browser';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nexport type RateMapItem = { color: string, class: string }\nexport type RateMap = {\n  low: RateMapItem,\n  high: RateMapItem,\n  medium: RateMapItem,\n  void: RateMapItem,\n  elDisabled: RateMapItem,\n}\nexport class ElRate extends ElRateProps implements OnInit, ControlValueAccessor {\n  \n   rateIcon: ElementRef\n  scores: boolean[] = []\n  rateMap: RateMap\n  backupModel: number\n/**\n * @param {?} sanitizer\n * @param {?} renderer\n */\nconstructor(\nprivate sanitizer: DomSanitizer,\nprivate renderer: Renderer2\n  ) {\n    super()\n  }\n/**\n * @param {?} __0\n * @param {?=} index\n * @param {?=} reset\n * @return {?}\n */\nhoverToggle({ srcElement }: Event, index?: number, reset: boolean = false): void {\n    if (this.elDisabled) return\n    const /** @type {?} */ iconElement: Element = srcElement.tagName === 'I' ? srcElement : srcElement.children[0]\n    if (reset) {\n      this.model = this.backupModel\n      this.renderer.removeClass(iconElement, 'hover')\n    } else {\n      this.model = index\n      this.renderer.addClass(iconElement, 'hover')\n    }\n  }\n/**\n * @param {?} index\n * @return {?}\n */\nselectValue(index: number): void {\n    if (this.elDisabled) return\n    this.model = this.backupModel = index\n    this.modelChange.emit(index)\n    this.controlChange\n  }\n/**\n * @param {?} index\n * @return {?}\n */\nmakeIconClasses(index: number): string {\n    const /** @type {?} */ voidClass = this.elDisabled ? this.rateMap.elDisabled.class : this.rateMap.void.class\n    const /** @type {?} */ activeItem = this.findCurrentType(this.model, this.rateMap)\n    const /** @type {?} */ classes = index <= this.model ? activeItem.class : voidClass\n    return 'el-rate__icon ' + classes\n  }\n/**\n * @param {?} index\n * @return {?}\n */\nmakeIconStyles(index: number): SafeStyle {\n    const /** @type {?} */ voidColor = this.elDisabled ? this.rateMap.elDisabled.color : this.rateMap.void.color\n    const /** @type {?} */ activeItem = this.findCurrentType(this.model, this.rateMap)\n    const /** @type {?} */ styles = `color: ${index <= this.model ? activeItem.color : voidColor};`\n    return this.sanitizer.bypassSecurityTrustStyle(styles)\n  }\n/**\n * @param {?} index\n * @param {?} rateMap\n * @return {?}\n */\nfindCurrentType(index: number, rateMap: RateMap): RateMapItem {\n    if (index <= this.lowThreshold) return rateMap.low\n    if (index >= this.highThreshold) return rateMap.high\n    return rateMap.medium\n  }\n/**\n * @return {?}\n */\nngOnInit(): void {\n    this.scores = new Array(this.max).fill('')\n    this.backupModel = this.model\n    \n    this.rateMap = {\n      low: { color: this.colors[0], class: this.iconClasses[0] },\n      medium: { color: this.colors[1], class: this.iconClasses[1] },\n      high: { color: this.colors[2], class: this.iconClasses[2] },\n      void: { color: this.voidColor, class: this.voidIconClass },\n      elDisabled: { color: this.disabledVoidColor, class: this.disabledVoidIconClass },\n    }\n  }\n/**\n * @param {?} value\n * @return {?}\n */\nwriteValue(value: any): void {\n    this.model = value\n  }\n/**\n * @param {?} fn\n * @return {?}\n */\nregisterOnChange(fn: Function): void {\n    this.controlChange = fn\n  }\n/**\n * @param {?} fn\n * @return {?}\n */\nregisterOnTouched(fn: Function): void {\n    this.controlTouch = fn\n  }\nprivate controlChange: Function = () => {}\nprivate controlTouch: Function = () => {}\n  \nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'el-rate',\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => ElRate),\n    multi: true\n  }],\n  template: `\n    <div class=\"el-rate\" role=\"slider\">\n      <span *ngFor=\"let s of scores; let i = index\" class=\"el-rate__item\"\n        [ngStyle]=\"{cursor: elDisabled ? 'auto' : 'pointer'}\"\n        (mousemove)=\"hoverToggle($event, i)\"\n        (mouseleave)=\"hoverToggle($event, i, true)\"\n        (click)=\"selectValue(i)\">\n        <i class=\"el-rate__icon\" [style]=\"makeIconStyles(i)\"\n          [class]=\"makeIconClasses(i)\"\n          [class.hover]=\"i\"\n          #rateIcon></i>\n      </span>\n      <span *ngIf=\"showText\" class=\"el-rate__text\" [ngStyle]=\"{ color: textColor }\">\n        {{ texts[model] }}\n      </span>\n    </div>\n  `,\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: DomSanitizer, },\n{type: Renderer2, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'rateIcon': [{ type: ViewChild, args: ['rateIcon', ] },],\n};\n}\n\nfunction ElRate_tsickle_Closure_declarations() {\n/** @type {?} */\nElRate.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nElRate.ctorParameters;\n/** @type {?} */\nElRate.propDecorators;\n/** @type {?} */\nElRate.prototype.rateIcon;\n/** @type {?} */\nElRate.prototype.scores;\n/** @type {?} */\nElRate.prototype.rateMap;\n/** @type {?} */\nElRate.prototype.backupModel;\n/** @type {?} */\nElRate.prototype.controlChange;\n/** @type {?} */\nElRate.prototype.controlTouch;\n/** @type {?} */\nElRate.prototype.sanitizer;\n/** @type {?} */\nElRate.prototype.renderer;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}